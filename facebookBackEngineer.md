I'm just trying to (think in terms of react)[https://reactjs.org/docs/thinking-in-react.html] which was made by facebook which is a framework I use for clients. It is state based, passing props down. You can have lower props affect the state of higher props, but not directly, but invoking passed down callback functions. It's crazy when this starts to make sense and sound right. 

So since it was made by facebook for facebook primarily, and since thinking in the react frame-space is a skill, one I need, and since facebook is chock full of components (a react concept), and state, what better way than to backwards engineer or backwards-analyze facebook itself. For simplicity maybe just desktop (as if there's a difference state-wise). 

Goal is not to repdoduce everything, even just as a model, even a simplified model. Goal is just to see patterns, grow in understanding and get a sense of things as much as possible through a real world functioning example in production, in the wild. That said, more you get, the better your understanding is. That's what this is for. 

## High level view

I see several components on the page- a well defined bar on top, a less well defined bar on the left and right respectively, and then the main middle content section. Each bar is individually scrollable, though that's not stored as state. That's a browser thing, although actually, the page is probably 'listening' to determine when to load, so there is state triggered and modified by scroll status I'm sure. 
You can learn a lot by reading documents and articles (and you surely have to), and by building things and doing tutorials, but in some ways you can learn more just by looking at stuff and going slow over what you see. Noticing stuff in the wild. 

Each main container -top, left, right and middle let's call them, has it's own subcomponents.

Real quick, search bar in upper left is clearly a component and has state. Search bars (if they're functioning) always have state. That's kind of their thing, kind of their point. And the state or component listens (these days, since whenever) not for a 'submit' event or click event but a 'change' event- onChange. You know that's the case for sure when you see suggestions appear (search hints), but you can assume it's always the case, especially in react. 
Then it passes it to whatever its handler component is. What would that be? 
I know, at least as of very recent, that multiple types of search (friends, events, marketplace etc) is consolidated into one bar now. Actually after you run your search query, you can filter by "All", "Posts", "People", "Photos" (hmm, didn't know you could search by photos), "Video", marketplace, pages, places, group or event. Wow it really is quite a repository of data, isn't it.  
When I searched for coffee grinder, it opened up this filter panel and also rendered content on right side relevant to my query. It included marketplace results, sponsored (marketplace I think) results, as well as friends (well friend's posts) as well as a user group. I don't see any locations but when I search for corner coffee, a place is returned (displayed). I don't konw how to identify what object of rendering is what category in the filters. Maybe it doesn't explicitly say. Maybe there's not a 1:1 mapping. In other words it uses a different filtering algorithm as opposed to 'buckets' but i assume it probably is that. Place and page come up a lot in the cofee corner search as well as sponsored near the top and bigger. Always sponsored. You have to get paid. BTW in passing, likes (of a page, place, etc) are also evident and shown (though not at least here on sponsored posts). My point is I want to circle back to this later, as "likes" are the thing of things, both for social engineer and what people desire to get, as well as how algorithms work. Likes are the hook of dopamine that hook people into engaging on the platforms, with side effects of self esteem etc. I'm not going to go into that side of things. I want to stick to data, state, UI, UX (although that is technically UX, so I could touch on it in that context). Etc. Likes likes likes. Likes also besides the human attraction element (what draws people to the site) are also critical for algorithm function. But tha's in passing. 
Before I get too deep, I searched in the bar on the main page, clicked go or enter, and was taken to a second ('results') page. (They said I shoudl stick to accounting lol even though tech is their ocean, they are surrounded by it daily and is 1000x more exciting. they knew what's best for me lol). I hit search and was taken to a new page. As an aside, what routing library does FB use, if they invented react but not as its own framework, just as a view-library? Do they use the popular ones? Anyway back to my point finally- before I clicked search but after I typed, not only were hints provided- and based on a personalized algorithm, but also their avatar images (where applicable) were showing and linked to their page- so there is a URL/Endpoint kind of payload/state/data attached to my near instantaneous search results, with an image and in-site (non reload) hyperlink. If you don't like facebook or social media, cool, but this is impressive, and if it's not it's probably because you haven't thought about it or don't understand what's at play. It's all voltage deep down, voltage of circuits, semi-conductors and NAND flash gates, but it's state, it's netowrking, it's all parts of the stack coming together, but what's impressive is the speed. How they all do come together. The speed of render, the UI. I guess that's the power of evolution and incentive. Evolution and incentive will bring together teams, make people study things like data, create specs and standards and SOPs to make things happen to fulfill the object of their desires and needs, or just because they can. 

We are going to analze states and components on the facebook site, and we have said so much and we haven't even gotten past the search bar on the main first page!! not even close, but to be fair, we kinda did because we branched to where it took us. That's like saying we haven't gotten past the root node of the dom, when we started to analyze body. We dug in. And the searhc is one of the main features. It should have access to everything. Which is a point worth mulling over. This analytical process is time consuming, but is powerful. I guess I just gotta pay the piper, but take a smaller component inside facebook, like an individual post with likes. It needs to receive the number of likes it has (obviously) and other data like author and so on, so it has to create certain state and receive much others, but it is limited in what state it needs and creates. Basic UI user interaction state at most. It has a low coverage area, relative, whereas the search bar has to index everythign. Google is a complex company and does a lot now, like amazon, but it's home webpage is simple and always was- it's GUI. It is just a search bar. But just that search bar has to cover everything. In the case of google, it builds up a repository or database of sorts, based on crawler bots, but in the case of facebook, it owns the data already. Owns loosely. I should say possesses. Hosts and sees, and hence manages state, so wherever ultimate highest state is stored at facebook- and I know FB is probalby not open sourced, and I know there's probably no book about how it is architected that you can read and by, but I bet as a genius you could figure it out to a deep level, and maybe impress them and get hired, but we're talking genius level. Many 'simple things' have to be well understood, and derived simple things. (It's my model. You understand simple things to understand complex things. Dependencies basically. But in a sense nothing is a complex thing. it just becomes another higher level simple thing when you're ready for it. So to underestand the deep level of facebook and how they did it without a book, just looking at front page, you have to have a genius level of simple understandings). 

Back to search bar. Keep it simple. One small step programming is my method. The more complex a challenge, the smaller and sometimes slower the step. First step is click on search bar, don't even type anything, assess what comes. Even before that- don't click on it. Notice things. It is just a pure view- that is no state or prefill (just placeholder text, which is static so not applicable). So we know there is no state in the initial view (or doesn't have to be). You just click on it once and up pops a modal. A floating modal. What would that be called? And how dose that act in terms of @media queries (resopnsive web design- a very necessary design parameter)? Anyway that's just a view thing, not a state thing. It could be a flat empty box of Lorem Ipsum but they have skilled people doing the work. They have money. 

Interesting as to the view (and it's worth analyzing things in depth. Depth or not at all, I say!)- it doesn't change with viewport width (I got that word!!) Or visible viewport when I move the chrome dev tools inspector to the left. It doesnt' change though the behind the search modal content does. Now btw we are into the fun part of UX/UI/FE. We are past the basics and hello worlds of stuff. Most people progress slowly and dont' gain mastery of anything. They are not ambitious, is the biggest reason, I think. Anyway for a tiny tiny bit the inspector overlaps and clips the modal, but only for a few pixels, and then it compresses it - the padding or margin between x boxes of individual search suggestions and the search suggestions themselves, until there's no more space to compress. Then it ... (dot dot dots) them. Then it gets so narrow, it won't go any farther. I don't know if I reached chrome's limit. I think so as it has the same limit on another independent page, and how can a page control the browser? The browser controls the page DOM/Document. 
It just kind of floats. 
Go deep or don't go at all. Do a depth first thought or traversal. If you can hit a little of 10 subjects or a lot of only 1, do that one, beacuse there's oil at the depths that you'll NEVER get to if you always do bredth. And do the One Small Step coding or analyzing, especially of new complex things. Get familiarity.  Fools rush in where angels fear to tread. 

Thanks to the magic of the dev tools inspector (when did that come out anyway? What were early browsers, early JS, early CSS like).

Ok the search bar is parent of the modal that opens (per DOM tree). 

They have (mutliple) classnames of gobbledygook, which tells me they were made by machines or compilers, not in the source code (I am sure). This ensures classname uniqueness and independnece. I wonder if they're also different on each render. Or maybe not each render and load but at least each build. I could check by reloading right now on a differnet tab. And for builds I could track over time, but let's be honest, I'm not going to.   

Ok, they do have the same gobbledygood class names. I think it might be based on builds (versions essentialy). 

Even on different browser, classnames are same (for individual search bar element inspected). This may seem like a waste of time to think about and test, but building a strong foundation free of ambiguity and uncertainty is powerful and pays dividends. You can read books and learn but many of the AUTHORS of books and konwledge learned by observing and being astutde, and books in a way can blind you to your senses. 

There's actually something view-wise I noticed. When you load facebook the search bar is open. When you open dev tools, or reload it with dev tools open, it is collapsed into a circle that you can click on to expand. When you do so, classes are toggled it seems, so that 'class-toggling' feature is a view pattern. Several classes of parent and I Think cousin elements are added (or taken off) based just on the click ot open or close the search window, which is only closed when the dev tools are opened--- even when they are opened very small to the extreme far end on the right and very small. Size doesn't seem to be what triggers it. Real estate. Actually there's a point of ambiguity in terms of the class toggle. When you have dev tools open and click on the round search magnifying glass icon to open the search bar, it does two things. It opens hte search bar and gives you suggesitons. it expands the bar AND it acts like you're going to search and oepns the modal, whereas with dev tols closed but the bar expanded, it's not acting like you've already started searching and renders suggestions. So the one act is overloaded, and I'm not going to try figure out class by class what is part of what. 

Just analyzing view right now still, when I click on search (dev tools closed, and from here on out unless specified), the blue F facebook icon vanishes and a back arrow of unequal size takes its place. The search bar expands left a little bit. 

BTW EVEYRTHING of every site from teh bigget to smallest, whatever frameworks they use or database technologies, all acts on the page via html, CSS and JS. It has to "compile" or 'boil' down to that, because that's basically liek the API of the browser. The whole point of all the framework is to compile down into a certain view and display and stream (including audio visual), as well as capture data and send back, which is really just the networking aspect of the browser (browser back end) connected to the front end or middle end (controller) of the browser in the form of forms (or even listeners and inferences that can be made). IT's all api. But JSON or XML objects of data like passowrds are entered in via forms--- which is the html part of the API, or maybe in other senses they can talk straight to your machine but let's not go there. from the human interactivity part of the site, it all has to boil down to CSS, JS and HTML. You can't grow beyond that. You can't grow beyond the API. 

In a way it's almost unfair to start by studying the search bar and components and how state works, because that has access to everything. It is seemingly the easiest- and is the easiest from a View perspective, which is the trap of it, but it is the most complex from the state point of view of it, so we could do that or we could work up to that, or we could do those concurrently  forking a new process as it is really interesting, but don't think a complex view means complex state and vice versa. SQL is just a table but that is state. In fact, they're probably inversely correlated. THe mona lisa doesn't have any state, really (outside itself). 

In a way starting at the search bar because of hte aformentioned rules is top down, and that's a good approach, but a bottom up approach is also a good approach. A pincer's approach of each could be really good, so what would be an example of the lowest down component, that only manages its own state? Keep in mind, CSS effects don't necessarily require state (inside of JS or the react context. THe browser handles that state for the devs) 



Ok I found it. A resusable component of the smallest (visible, apparant) level of state. X=X and 1=1 and there's no way to reimplement this wheel except this way. Have confidence in your perception and reasoning and take wins where you can. 

The smallest level of state you can have is obviuosly a boolean, a bool. And you know a component can't contain any more self-originating state than that if it hasn't asked you for any more. Granted it can log the universal standard time or something. But use reason and logic. 

There is a facebook component- at least one, that is reused very often. Everywhere and anywhere. Books were written about it and its effect on society. 

The like button. Is it clicked or not? Since it is a button, it is clicked by you the user, the account holder. Nobody else can click it and make it render. You see the others' collective likes elsewhere. Likes and loves and angers and laughs. Actually its kinda more than a bool now. It's a 7 value array- can only be one. 7 emotions.  

So it holds state. It recieves state and holds it. But let's see. The component gets the state, but does it get it and host it or has it been hosted? 

The like is associated with the post, and the post has to collect and hold the state. The post container brings in a likes bar component and passes the liked status by you from the post to the bar (or maybe it does math and computes it through a sql query). Clicking the like button on a post invokes a callback function passed to the bar from the post container and associates it with post. I don't konw. Even something as simple as this gets me confused. There's smoe intersection of state there. Keep looking for low level stuff. Learn what simple things you can and build on that. Then you will understand facebook, the view and state. I guess some of these questions i may be having are model questions. 

Maybe state is simpler. 

You go to create a post, start typing something, state has changed with each. single. type. And a rerendering happens. Or mabye not a rerendering as no nodes necessitating rendering have changed. It doesn't displace any. Actually something changes, not direcly connected, after you type your first letter. The state of the gray post bar lights up and becomes active, so you can post. 

It seems that this and most things happen with class toggles, so that is probably a main design pattern, a combination. So either its abstracted away in a framework or not but I definitely have to learn it if I want to do vanilla js- more likely than not. 

There is inheritance. There is containment nad there is composition. Containment implies ability to compose. Decompose features into separate components and then add them back as components- i.e. compositions. It's the data flow I'm missing. Anyway enough of this. Just have to keep thinking of facebook- and IG and all sites that use or could use components and state.  